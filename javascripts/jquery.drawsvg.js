function windowLoadHandler(){canvasApp()}function canvasSupport(){return Modernizr.canvas}function canvasApp(){function a(){o=1,s=o-1,u=8,p=70,f=255,v=140,Z="rgba("+p+","+f+","+v+",",h=1,n=F.width,r=F.height,g=320,M=n/2,m=r/2,y=g-2,d={},c={},I=.1,P=.1,b=.1,z=-0,w=2.5,X=0,Y=0,j=-3-sphereRad,R=-750,k=2*Math.PI/1200,V=0,i=setInterval(e,10/24)}function e(){if(++s>=o)for(s=0,H=0;H<u;H++){T=2*Math.random()*Math.PI,B=Math.acos(2*Math.random()-1),C=sphereRad*Math.sin(B)*Math.cos(T),O=sphereRad*Math.sin(B)*Math.sin(T),q=sphereRad*Math.cos(B);var a=t(C,Y+O,j+q,.002*C,.002*O,.002*q);a.attack=50,a.hold=50,a.decay=100,a.initValue=0,a.holdValue=h,a.lastValue=0,a.stuckTime=90+20*Math.random(),a.accelX=0,a.accelY=z,a.accelZ=0}for(V=(V+k)%(2*Math.PI),L=Math.sin(V),_=Math.cos(V),G.fillStyle="rgba(255,255,255, 0)",G.fillRect(0,0,n,r),a=d.first;null!=a;)$=a.next,a.age++,a.age>a.stuckTime&&(a.velX+=a.accelX+I*(2*Math.random()-1),a.velY+=a.accelY+P*(2*Math.random()-1),a.velZ+=a.accelZ+b*(2*Math.random()-1),a.x+=a.velX,a.y+=a.velY,a.z+=a.velZ),A=_*a.x+L*(a.z-j),D=-L*a.x+_*(a.z-j)+j,x=radius_sp*g/(g-D),a.projX=A*x+M,a.projY=a.y*x+m,a.age<a.attack+a.hold+a.decay?a.age<a.attack?a.alpha=(a.holdValue-a.initValue)/a.attack*a.age+a.initValue:a.age<a.attack+a.hold?a.alpha=a.holdValue:a.age<a.attack+a.hold+a.decay&&(a.alpha=(a.lastValue-a.holdValue)/a.decay*(a.age-a.attack-a.hold)+a.holdValue):a.dead=!0,S=a.projX>n||a.projX<0||a.projY<0||a.projY>r||D>y,S||a.dead?l(a):(E=1-D/R,E=E>1?1:E<0?0:E,G.fillStyle=Z+E*a.alpha+")",G.beginPath(),G.arc(a.projX,a.projY,x*w,0,2*Math.PI,!1),G.closePath(),G.fill()),a=$}function t(a,e,t,l,n,r){var i;return null!=c.first?(i=c.first,null!=i.next?(c.first=i.next,i.next.prev=null):c.first=null):i={},null==d.first?(d.first=i,i.prev=null,i.next=null):(i.next=d.first,d.first.prev=i,d.first=i,i.prev=null),i.x=a,i.y=e,i.z=t,i.velX=l,i.velY=n,i.velZ=r,i.age=0,i.dead=!1,Math.random()<.5?i.right=!0:i.right=!1,i}function l(a){d.first==a?null!=a.next?(a.next.prev=null,d.first=a.next):d.first=null:null==a.next?a.prev.next=null:(a.prev.next=a.next,a.next.prev=a.prev),null==c.first?(c.first=a,a.prev=null,a.next=null):(a.next=c.first,c.first.prev=a,c.first=a,a.prev=null)}if(canvasSupport()){var n,r,i,o,s,u,d,c,h,p,f,v,g,x,M,m,y,V,k,X,Y,j,w,R,I,P,b,z,Z,S,$,L,_,A,D,E,H,T,B,C,O,q,F=document.getElementById("canvasOne"),G=F.getContext("2d");a()}}window.addEventListener("load",windowLoadHandler,!1);var sphereRad=280,radius_sp=1,Debugger=function(){};Debugger.log=function(a){try{console.log(a)}catch(a){return}},$(function(){$("#slider-range").slider({range:!1,min:20,max:500,value:280,slide:function(a,e){console.log(e.value),sphereRad=e.value}})}),$(function(){$("#slider-test").slider({range:!1,min:1,max:2,value:1,step:.01,slide:function(a,e){radius_sp=e.value}})});
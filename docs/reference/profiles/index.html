<!DOCTYPE html><html><head><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" /><link href="/favicon.png" rel="icon" type="image/png" /><link href="/favicon.ico" rel="icon" /><title>About InSpec Profiles</title><meta name="description" /><link href="/css/inspec_tutorial.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/vendor/fontawesome.min.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/site.css" rel="stylesheet" /></head><body class="docs docs_reference docs_reference_profiles docs_reference_profiles_index"><script>gm_session_id = 'inspecGlobalMessage8';</script><div class="container"><nav class="shadow" id="main-nav"><progress value="0"></progress><div id="main-nav-ctas"><a class="main-nav--logo" href="/"><img alt="logo for InSpec" onerror="this.src='/images/inspec-by-chef-logo.png'" src="/images/inspec-by-chef-logo.svg" /></a><i class="fa fa-bars main-nav--toggle strict-right mobile-show"></i><ul class="main-nav--links"><li class="main-nav--link"><a href="/tutorials" class="link " <span class="main-nav--link-text">Tutorials</span></a></li><li class="main-nav--link"><a href="/docs" class="link " <span class="main-nav--link-text">Docs</span></a></li><li class="main-nav--link"><a href="/community" class="link " <span class="main-nav--link-text">Community</span></a></li><li class="main-nav--link"><a class="link" href="https://github.com/chef/inspec"><i class="fa fa-github"></i><span class="main-nav--link-text">Github</span></a></li><li class="nav-cta"><a class="button btn-sm btn-purple" href="/downloads"><i class="fa fa-cloud-download"></i>Download</a></li><li class="nav-cta mobile-hide"><a class="button btn-sm btn-purple-o" href="/demo">try demo</a></li></ul></div></nav><main id="main-content"><!--header search--><header class="bg-gradient margin-top-offset relative"><div class="row"><div class="columns large-12 medium-12 z-20"><div class="flex align margin-both"><form action="/docs/search/" class="main-sidebar--search shadow-dark" method="get"><input class="st-default-search-input" name="q" placeholder="Search documentation..." type="text" /></form><button action="/docs/search/" class="search shadow-dark margin-left-xs" method="get"><i class="fa fa-search t-white"></i></button></div></div></div><div id="particles-second"><canvas class="particles-js-canvas-el" /></div></header><div class="row margin-both relative"><column class="columns large-3 medium-3 mobile-hide" id="sidebar"><ul class="main-sidebar--links"><li class="main-sidebar--link"><small>Getting Started</small><ul class="main-sidebar--list no-bullet"><li class="main-sidebar--list--item--a"><a href="/docs">Overview</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/downloads">Get InSpec</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/platforms">InSpec for the cloud</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/tutorials">Tutorials</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/inspec_and_friends">InSpec and friends</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/glossary">InSpec Glossary</a><i class="fa fa-angle-double-right focus strict-right"></i></li></ul></li><li class="main-sidebar--link"><small>Reference</small><ul class="main-sidebar--list no-bullet"><li class="main-sidebar--list--item--a"><a href="/docs/reference/cli">inspec executable</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a t-purple"><a href="/docs/reference/profiles">Profiles</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/resources">Resources</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/matchers">Matchers</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/reporters">Reporters</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/dsl_inspec">InSpec DSL</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/dsl_resource">Custom Resources</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/plugin_kitchen_inspec">kitchen-inspec</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/shell">inspec shell</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/habitat">Habitat Integration</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/ruby_usage">Ruby usage</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/migration">Migration from Serverspec</a><i class="fa fa-angle-double-right focus strict-right"></i></li></ul></li></ul></column><column class="columns large-9 medium-9 mobile-12" id="mainbar"><h1 id="inspec-profiles">InSpec Profiles</h1>

<p>InSpec supports the creation of complex test and compliance profiles, which organize controls to support dependency management and code reuse. Each profile is a standalone structure with its own distribution and execution flow.</p>

<h1 id="profile-structure">Profile Structure</h1>

<p>A profile should have the following structure::</p>
<div class="highlight"><pre class="highlight plaintext"><code>examples/profile
├── README.md
├── controls
│   ├── example.rb
│   └── control_etc.rb
├── libraries
│   └── extension.rb
|── files
│   └── extras.conf
└── inspec.yml
</code></pre></div>
<p>where:</p>

<ul>
<li><code>inspec.yml</code> includes the profile description (required)</li>
<li><code>controls</code> is the directory in which all tests are located (required)</li>
<li><code>libraries</code> is the directory in which all InSpec resource extensions are located (optional)</li>
<li><code>files</code> is the directory with additional files that a profile can access (optional)</li>
<li><code>README.md</code> should be used to explain the profile, its scope, and usage</li>
</ul>

<p>See a complete example profile in the InSpec open source repository: <a href="https://github.com/chef/inspec/tree/master/examples/profile">https://github.com/chef/inspec/tree/master/examples/profile</a></p>

<p>Also check out <a href="https://learn.chef.io/modules/explore-inspec-resources#/">Explore InSpec resources</a> on Learn Chef Rally to learn more about how profiles are structured with hands-on examples.</p>

<h2 id="inspec-yml">inspec.yml</h2>

<p>Each profile must have an <code>inspec.yml</code> file that defines the following information:</p>

<ul>
<li>Use <code>name</code> to specify a unique name for the profile. Required.</li>
<li>Use <code>title</code> to specify a human-readable name for the profile.</li>
<li>Use <code>maintainer</code> to specify the profile maintainer.</li>
<li>Use <code>copyright</code> to specify the copyright holder.</li>
<li>Use <code>copyright_email</code> to specify support contact information for the profile, typically an email address.</li>
<li>Use <code>license</code> to specify the license for the profile.</li>
<li>Use <code>summary</code> to specify a one line summary for the profile.</li>
<li>Use <code>description</code> to specify a multiple line description of the profile.</li>
<li>Use <code>version</code> to specify the profile version.</li>
<li>Use <code>inspec_version</code> to place SemVer constraints on the version of InSpec that the profile can run under.</li>
<li>Use <code>supports</code> to specify a list of supported platform targets.</li>
<li>Use <code>depends</code> to define a list of profiles on which this profile depends.</li>
</ul>

<p><code>name</code> is required; all other profile settings are optional. For example:</p>
<div class="highlight"><pre class="highlight plaintext"><code>name: ssh
title: Basic SSH
maintainer: Chef Software, Inc.
copyright: Chef Software, Inc.
copyright_email: support@chef.io
license: Proprietary, All rights reserved
summary: Verify that SSH Server and SSH Client are configured securely
version: 1.0.0
supports:
  - os-family: linux
depends:
  - name: profile
    path: ../path/to/profile
inspec_version: "~&gt; 2.1"
</code></pre></div>
<h2 id="verify-profiles">Verify Profiles</h2>

<p>Use the <code>inspec check</code> command to verify the implementation of a profile:</p>
<div class="highlight"><pre class="highlight plaintext"><code>$ inspec check examples/profile
</code></pre></div>
<h1 id="platform-support">Platform Support</h1>

<p>Use the <code>supports</code> setting in the <code>inspec.yml</code> file to specify one (or more) platforms for which a profile is targeting. The list of supported platforms may contain simple names, names and versions, or detailed flags, and may be combined arbitrarily. For example, to target anything running Debian Linux:</p>
<div class="highlight"><pre class="highlight plaintext"><code>name: ssh
supports:
  - os-name: debian
</code></pre></div>
<p>and to target only Ubuntu version 14.04</p>
<div class="highlight"><pre class="highlight plaintext"><code>name: ssh
supports:
  - os-name: ubuntu
    release: 14.04
</code></pre></div>
<p>and to target the entire RedHat platform (including CentOS and Oracle Linux):</p>
<div class="highlight"><pre class="highlight plaintext"><code>name: ssh
supports:
  - os-family: redhat
</code></pre></div>
<p>and to target anything running on Amazon AWS:</p>
<div class="highlight"><pre class="highlight plaintext"><code>name: ssh
supports:
  - platform: aws
</code></pre></div>
<p>and to target all of these examples in a single <code>inspec.yml</code> file:</p>
<div class="highlight"><pre class="highlight plaintext"><code>name: ssh
supports:
  - os-name: debian
  - os-name: ubuntu
    release: 14.04
  - os-family: redhat
  - platform: aws
</code></pre></div>
<h1 id="profile-dependencies">Profile Dependencies</h1>

<p>An InSpec profile can bring in the controls and custom resources from another InSpec profile. Additionally, when inheriting the controls of another profile, a profile can skip or even modify those included controls.</p>

<p>For hands-on examples, check out <a href="https://learn.chef.io/modules/create-a-custom-profile#/">Create a custom InSpec profile</a> on Learn Chef Rally.</p>

<h2 id="defining-the-dependencies">Defining the Dependencies</h2>

<p>Before a profile can use controls from another profile, the to-be-included profile needs to be specified in the including profile’s <code>inspec.yml</code> file in the <code>depends</code> section. For each profile to be included, a location for the profile from where to be fetched and a name for the profile should be included. For example:</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
- name: linux-baseline
  url: https://github.com/dev-sec/linux-baseline/archive/master.tar.gz
- name: ssh-baseline
  url: https://github.com/dev-sec/ssh-baseline/archive/master.tar.gz
</code></pre></div>
<p>InSpec supports a number of dependency sources.</p>

<h3 id="path">path</h3>

<p>The <code>path</code> setting defines a profile that is located on disk. This setting is typically used during development of profiles and when debugging profiles.</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
- name: my-profile
  path: /absolute/path
- name: another
  path: ../relative/path
</code></pre></div>
<h3 id="url">url</h3>

<p>The <code>url</code> setting specifies a profile that is located at an HTTP- or HTTPS-based URL. The profile must be accessible via a HTTP GET operation and must be a valid profile archive (zip, tar, or tar.gz format).</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
- name: my-profile
  url: https://my.domain/path/to/profile.tgz
- name: profile-via-git
  url: https://github.com/myusername/myprofile-repo/archive/master.tar.gz
</code></pre></div>
<h3 id="git">git</h3>

<p>A <code>git</code> setting specifies a profile that is located in a git repository, with optional settings for branch, tag, commit, and version. The source location is translated into a URL upon resolution. This type of dependency supports version constraints via semantic versioning as git tags.</p>

<p>For example:</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
- name: git-profile
  git: http://url/to/repo
  branch:  desired_branch
  tag:     desired_version
  commit:  pinned_commit
  version: semver_via_tags
</code></pre></div>
<h3 id="supermarket">supermarket</h3>

<p>A <code>supermarket</code> setting specifies a profile that is located in a cookbook hosted on Chef Supermarket. The source location is translated into a URL upon resolution.</p>

<p>For example:</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
- name: supermarket-profile
  supermarket: supermarket-username/supermarket-profile
</code></pre></div>
<p>Available Supermarket profiles can be listed with <code>inspec supermarket profiles</code>.</p>

<h3 id="compliance">compliance</h3>

<p>A <code>compliance</code> setting specifies a profile that is located on the Chef Automate or Chef Compliance server.</p>

<p>For example:</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
  - name: linux
    compliance: base/linux
</code></pre></div>
<h2 id="vendoring-dependencies">Vendoring Dependencies</h2>

<p>When you execute a local profile, the <code>inspec.yml</code> file will be read in order to source any profile dependencies. It will then cache the dependencies locally and generate an <code>inspec.lock</code> file.</p>

<p>If you add or update dependencies in <code>inspec.yml</code>, dependencies may be re-vendored and the lockfile updated with <code>inspec vendor --overwrite</code></p>

<h2 id="using-controls-from-an-included-profile">Using Controls from an Included Profile</h2>

<p>Once defined in the <code>inspec.yml</code>, controls from the included profiles can be used! Let’s look at some examples.</p>

<h3 id="including-all-controls-from-a-profile">Including All Controls from a Profile</h3>

<p>With the <code>include_controls</code> command in a profile, all controls from the named profile will be executed every time the including profile is executed.</p>

<p><img src="/images/profile_inheritance/include_controls.png" alt="Include Controls" /></p>

<p>In the example above, every time <code>my-app-profile</code> is executed, all the controls from <code>my-baseline</code> are also executed. Therefore, the following controls would be executed:</p>

<ul>
<li>myapp-1</li>
<li>myapp-2</li>
<li>myapp-3</li>
<li>baseline-1</li>
<li>baseline-2</li>
</ul>

<p>This is a great reminder that having a good naming convention for your controls is helpful to avoid confusion when
including controls from other profiles!</p>

<h3 id="skipping-a-control-from-a-profile">Skipping a Control from a Profile</h3>

<p>What if one of the controls from the included profile does not apply to your environment? Luckily, it is not necessary to maintain a slightly-modified copy of the included profile just to delete a control. The <code>skip_control</code> command tells InSpec to not run a particular control.</p>

<p><img src="/images/profile_inheritance/include_controls_with_skip.png" alt="Include Controls with Skip" /></p>

<p>In the above example, all controls from <code>my-app-profile</code> and <code>my-baseline</code> profile will be executed every time <code>my-app-profile</code> is executed <strong>except</strong> for control <code>baseline-2</code> from the <code>my-baseline</code> profile.</p>

<h3 id="modifying-a-control">Modifying a Control</h3>

<p>Let&rsquo;s say a particular control from an included profile should still be run, but the impact isn&rsquo;t appropriate? Perhaps the test should still run, but if it fails, it should be treated as low severity instead of high severity?</p>

<p>When a control is included, it can also be modified!</p>

<p><img src="/images/profile_inheritance/include_controls_with_mod.png" alt="Include Controls with Modification" /></p>

<p>In the above example, all controls from <code>my-baseline</code> are executed along with all the controls from the including profile, <code>my-app-profile</code>. However, should control <code>baseline-1</code> fail, it will be raised with an impact of <code>0.5</code> instead of the originally-intended impact of <code>1.0</code>.</p>

<h3 id="selectively-including-controls-from-a-profile">Selectively Including Controls from a Profile</h3>

<p>If there are only a handful of controls that should be executed from an included profile, it&rsquo;s not necessarily to skip all the unneeded controls, or worse, copy/paste those controls bit-for-bit into your profile. Instead, use the <code>require_controls</code> command.</p>

<p><img src="/images/profile_inheritance/require_controls.png" alt="Require Controls" /></p>

<p>Whenever <code>my-app-profile</code> is executed, in addition to its own controls, it will run only the controls specified in the <code>require_controls</code> block. In the case, the following controls would be executed:</p>

<ul>
<li>myapp-1</li>
<li>myapp-2</li>
<li>myapp-3</li>
<li>baseline-2</li>
<li>baseline-4</li>
</ul>

<p>Controls <code>baseline-1</code>, <code>baseline-3</code>, and <code>baseline-5</code> would not be run, just as if they were manually skipped. This method of including specific controls ensures only the controls specified are executed; if new controls are added to a later version of <code>my-baseline</code>, they would not be run.</p>

<p>And, just the way its possible to modify controls when using <code>include_controls</code>, controls can be modified as well.</p>

<p><img src="/images/profile_inheritance/require_controls_with_mod.png" alt="Require Controls with Modification" /></p>

<p>As with the prior example, only <code>baseline-2</code> and <code>baseline-4</code> are executed, but if <code>baseline-2</code> fails, it will report with an impact of <code>0.5</code> instead of the originally-intended <code>1.0</code> impact.</p>

<h2 id="using-resources-from-an-included-profile">Using Resources from an Included Profile</h2>

<p>By default, all of the custom resources from a listed dependency are available
for use in your profile. If two of your dependencies provide a resource with
the same name, you can use the <code>require_resource</code> DSL function to
disambiguate the two:</p>
<div class="highlight"><pre class="highlight plaintext"><code>require_resource(profile: 'my_dep', resource: 'my_res',
                 as: 'my_res2')
</code></pre></div>
<p>This will allow you to reference the resource <code>my_res</code> from the
profile <code>my_dep</code> using the name <code>my_res2</code>.</p>

<h1 id="profile-attributes">Profile Attributes</h1>

<p>Attributes may be used in profiles to define secrets, such as user names and passwords, that should not otherwise be stored in plain-text in a cookbook. First specify a variable in the control for each secret, then add the secret to a Yaml file located on the local machine, and then run <code>inspec exec</code> and specify the path to that Yaml file using the <code>--attrs</code> attribute.</p>

<p>For example, a control:</p>
<div class="highlight"><pre class="highlight plaintext"><code># define these attributes on the top-level of your file and re-use them across all tests!
val_user = attribute('user', default: 'alice', description: 'An identification for the user')
val_password = attribute('password', description: 'A value for the password')

control 'system-users' do
  impact 0.8
  desc '
    This test assures that the user "Bob" has a user installed on the system, along with a
    specified password.
  '

  describe val_user do
    it { should eq 'bob' }
  end

  describe val_password do
    it { should eq 'secret' }
  end
end
</code></pre></div>
<p>And a Yaml file named <code>profile-attribute.yml</code>:</p>
<div class="highlight"><pre class="highlight plaintext"><code>user: bob
password: secret
</code></pre></div>
<p>The following command runs the tests and applies the secrets specified in <code>profile-attribute.yml</code>:</p>
<div class="highlight"><pre class="highlight plaintext"><code>$ inspec exec examples/profile-attribute --attrs examples/profile-attribute.yml
</code></pre></div>
<p>See the full example in the InSpec open source repository: https://github.com/chef/inspec/tree/master/examples/profile-attribute</p>

<h1 id="profile-files">Profile files</h1>

<p>An InSpec profile may contain additional files that can be accessed during tests. A profile file enables you to separate the logic of your tests from the data your tests check for, for example, the list of ports you require to be open.</p>

<p>To access these files, they must be stored in the <code>files</code> directory at the root of a profile. They are accessed by their name relative to this folder with <code>inspec.profile.file(...)</code>.</p>

<p>Here is an example for reading and testing a list of ports. The folder structure is:</p>
<div class="highlight"><pre class="highlight plaintext"><code>examples/profile
├── controls
│   ├── example.rb
|── files
│   └── services.yml
└── inspec.yml
</code></pre></div>
<p>With <code>services.yml</code> containing:</p>
<div class="highlight"><pre class="highlight plaintext"><code>- service_name: httpd-alpha
  port: 80
- service_name: httpd-beta
  port: 8080
</code></pre></div>
<p>The tests in <code>example.rb</code> can now access this file:</p>
<div class="highlight"><pre class="highlight plaintext"><code>my_services = yaml(content: inspec.profile.file('services.yml')).params

my_services.each do |s|
  describe service(s['service_name']) do
    it { should be_running }
  end

  describe port(s['port']) do
    it { should be_listening }
  end
end
</code></pre></div>
<p>For a more complete example that uses a profile file, see <a href="https://learn.chef.io/modules/explore-inspec-resources#/">Explore InSpec resources</a> on Learn Chef Rally.</p>

<h1 id="should-vs-expect-syntax">&ldquo;should&rdquo; vs. &ldquo;expect&rdquo; syntax</h1>

<p>Users familiar with the RSpec testing framework may know that there are two ways to write test statements: <code>should</code> and <code>expect</code>. The RSpec community decided that <code>expect</code> is the preferred syntax. However, InSpec recommends the <code>should</code> syntax as it tends to read more easily to those users who are not as technical.</p>

<p>InSpec will continue to support both methods of writing tests. Consider this <code>file</code> test:</p>
<div class="highlight"><pre class="highlight plaintext"><code>describe file('/tmp/test.txt') do
  it { should be_file }
end
</code></pre></div>
<p>This can be re-written with <code>expect</code> syntax</p>
<div class="highlight"><pre class="highlight plaintext"><code>describe file('/tmp/test.txt') do
  it 'should be a file' do
    expect(subject).to(be_file)
  end
end
</code></pre></div>
<p>The output of both of the above examples looks like this:</p>
<div class="highlight"><pre class="highlight plaintext"><code>File /tmp/test.txt
   ✔  should be a file
</code></pre></div>
<p>In addition, you can make use of the <code>subject</code> keyword to further control your output if you choose:</p>
<div class="highlight"><pre class="highlight plaintext"><code>describe 'test file' do
  subject { file('/tmp/test.txt') }
  it 'should be a file' do
    expect(subject).to(be_file)
  end
end
</code></pre></div>
<p>&hellip; which will render the following output:</p>
<div class="highlight"><pre class="highlight plaintext"><code>test file
  ✔  should be a file
</code></pre></div></column><div class="scrollToTop shadow-dark"><img id="scrollup" onerror="this.src='/images/home/arrow.png'" src="/images/home/arrow.svg" /></div></div><script>// Swiftype JS code snippet
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','xzyJV6P7pgscygGyyTm8','2.0.0');
// end Swiftype code snippet

document.getElementsByClassName("st-default-search-input")[0].focus();</script></main></div><footer class="dark-bg" id="main-footer"><div class="strict-center" id="dlmsg"><div class="pad-under-xs"><img alt="image of octagon spinning" id="hex" onerror="this.src='/images/octagon.png'" src="/images/octagon.svg" /></div><h3 class="t-white pad-under-xs">Get started with InSpec and rock on.</h3><div class="row align columns"><div class="strict-center"><a class="button btn-lg btn-purple shadow-dark margin-right-xs mobile-row-btn" href="/downloads"><i class="fa fa-cloud-download"></i><span>download inspec 2.0</span></a><a class="button btn-lg btn-white-o shadow-dark mobile-row-btn" href="/tutorials">browse tutorials</a></div></div></div><div class="flex align"><div class="columns large-4 medium-4 mobile-hide"><ul class="footer--logos"><li><a class="footer--logo inspec" href="/"><img alt="logo for InSpec" src="/images/inspec-by-chef-logo.png" /></a></li><li><a class="footer--logo chef" href="http://www.chef.io"><img alt="logo for Chef Software" src="/images/chef-logo.png" /></a></li></ul></div><div class="columns large-8 medium-8"><ul class="footer--links strict-right"><li><a class="link footer--link" href="/legal/licensing">Licensing</a></li><li><a class="link footer--link" href="/legal/terms-and-conditions">Terms &amp; Conditions</a></li><li><a class="link footer--link" href="/legal/trademark-policy">Trademark Policy</a></li><li><a class="link footer--link" href="/legal/privacy-policy">Privacy Policy</a></li></ul><div class="columns margin-both-xs mobile-show"><ul class="footer--logos"><li><a class="footer--logo inspec" href="/"><img alt="logo for InSpec" src="/images/inspec-by-chef-logo.png" /></a></li><li><a class="footer--logo chef" href="http://www.chef.io"><img alt="logo for Chef Software" src="/images/chef-logo.png" /></a></li></ul></div></div></div><p class="strict-center pad-under-xs"><small class="t-gray">&copy; Chef Software 2015-2018</small></p></footer><script src="https://buttons.github.io/buttons.js"></script><script src="/scripts/inspec_tutorial.js"></script><script src="/dist/inspec_tutorial.js"></script><script src="/javascripts/vendor/jquery.min.js"></script><script src="https://s3.amazonaws.com/menumaker/menumaker.min.js"></script><div class="inspec-tutorial" hidden="true" inspec-tutorial="true">Loading</div><script src="/javascripts/all.js"></script><script>//initiate sticky sidebar from jquery.sticky.js

 if (window.innerWidth > 640) { //don't fix on mobile
   $('#sidebar').stick_in_parent();
 }</script><script>function initSlideGroup(group) {
  var prev = -1;
  var links = $(group).find('a')

  links.click(function(e) {
    e.stopPropagation()

    links.removeClass('selected')
    $(this).addClass('selected')

    var idx = $(this).index();
    if(prev == idx) return;
    prev = idx;

    $('.slider .view.slide-in').removeClass('slide-in').addClass('slide-out')
    var el = $('.slider .view')[idx]
    if(el == null) {
      console.log("No element for slider index "+idx)
      return
    }

    $(el).removeClass('slide-out').removeClass('hidden').addClass('slide-in')
  })

  if(links[0] != null) links[0].click();
}

function initSliders() {
  $('.slider .view').addClass('hidden')
  var groups = $('.slider .selectors')
  groups.each(function(idx){
    initSlideGroup(this)
  })
}

//run code colors

$(document).ready(function() {
  initSliders()
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});

//copy to clipboard

function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val($(element).text()).select();
  document.execCommand("copy");
  $temp.remove();
}

$('#copy').hover(function() {
   $('#install').toggleClass("text-focus");
});

$('#copy').click(function() {
   $(this).removeClass("fa-copy");
   $(this).addClass("fa-check");

 setTimeout(() => {
   $(this).removeClass('fa-check').addClass('fa-copy');
  }, 1500);
});

// homepage content slider

$(function() {
  $("#expand").hide();
  $("#expandBtn").html("Show all new InSpec 2.0 features");

   $('#expandBtn').click(function() {
      $('#expand').slideToggle("fast");
      $(this).html($(this).html() == 'Collapse new InSpec 2.0 features' ? 'Show all new InSpec 2.0 features' : 'Collapse new InSpec 2.0 features');
   });
});

// tutorial content slider

$(function() {
  $(".collapseContent").hide();
  $(".collapsebtn").addClass("fa-plus-square");

   $('.collapseToggle').click(function() {
      var el = $(this).parent().find('.collapseContent')
      el.slideToggle("fast")
      // $('.collapseContent').slideToggle("fast");
      var btn = $(this).find('.collapsebtn')
      if(btn.hasClass('fa-minus-square')) {
        btn.addClass('fa-plus-square')
        btn.removeClass('fa-minus-square')
      } else {
        btn.addClass('fa-minus-square')
        btn.removeClass('fa-plus-square')
      }
   });
});



// scroll spy animations

var $slide_left = $('.slide-left');
var $slide_right = $('.slide-right');
var $slide_up = $('.slide-up');
var $slide_up_slow = $('.slide-up-slow');
var $window = $(window);

function check_if_in_view() {
  var window_height = $window.height();
  var window_top_position = $window.scrollTop();
  var window_bottom_position = (window_top_position + window_height);

  $.each($slide_left, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_right, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_up, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_up_slow, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });
}

$window.on('scroll resize', check_if_in_view);
$window.trigger('scroll');

//scroll to top
$(document).ready(function(){

  $(window).scroll(function(){
    if ($(this).scrollTop() > 100) {
      $('.scrollToTop').fadeIn();
    } else {
      $('.scrollToTop').fadeOut();
    }
  });

  $('.scrollToTop').click(function(){
    $('html, body').animate({scrollTop : 0},800);
    return false;
  });

  // scrolling to resource sections
  $(".resources-button").click(function() {
    var dst = $(this).attr("href")
    $(".resources-button").removeClass("btn-purple").addClass("btn-purple-o")
    $(this).addClass("btn-purple").removeClass("btn-purple-o")
    $("html, body").animate({
        scrollTop: $(dst).offset().top - 105
    }, 1000);
  });

});

//scrolling code box

var div = $('#scrolled');
   setInterval(function(){
    var pos = div.scrollTop();
    div.scrollTop(pos + 2);
}, 200);

//Animating progress bar for header

$(document).ready(function(){

var getMax = function(){
    return $(document).height() - $(window).height();
}

var getValue = function(){
    return $(window).scrollTop();
}

if('max' in document.createElement('progress')){
    // Browser supports progress element
    var progressBar = $('progress');

    // Set the Max attr for the first time
    progressBar.attr({ max: getMax() });

    $(document).on('scroll', function(){
        // On scroll only Value attr needs to be calculated
        progressBar.attr({ value: getValue() });
    });

    $(window).resize(function(){
        // On resize, both Max/Value attr needs to be calculated
        progressBar.attr({ max: getMax(), value: getValue() });
    });
}
else {
    var progressBar = $('.progress-bar'),
        max = getMax(),
        value, width;

    var getWidth = function(){
        // Calculate width in percentage
        value = getValue();
        width = (value/max) * 100;
        width = width + '%';
        return width;
    }

    var setWidth = function(){
        progressBar.css({ width: getWidth() });
    }

    $(document).on('scroll', setWidth);
    $(window).on('resize', function(){
        // Need to reset the Max attr
        max = getMax();
        setWidth();
    });
    }
  });</script><script>$(document).foundation();
$('.try-demo').click(function(event){
  event.stopPropagation();
  $('.inspec-tutorial').show()
  window.dispatchEvent(new Event('resizeTerminal'));
  $('.quit-inspec-tutorial').click(function(event){
    event.stopPropagation();
    $('.inspec-tutorial').hide()
  })
});</script><script src="/javascripts/segment.js"></script></body></html>